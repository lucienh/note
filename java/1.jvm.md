# java虚拟机

http://docs.oracle.com/javase/specs/jvms/se7/html

## 内存分配

### 内存划分

* 方法区
	线程共享，存储被虚拟机加载的类信息、常量、静态变量，及时编译器编译后的代码，java虚拟机把方法区描述为堆的一个逻辑部分
	但是却有一个别名，non-heap（非堆）目的是为了和堆区分开来，方法区也可以称为`永久代
        `运行时常量池`也是方法取的一部分

* 虚拟机栈
	线程私有，每个方法在执行的时候都会创建一个栈帧，用于存储`局部变量表`、`操作数栈`、`动态链接`、`方法出口`等
　 `局部变量表`存放了编译器可知的基本数据类型（boolea byte  char short int long float double）、对象引用　


* 本地方法栈
	
* 堆
	线程共享，存放对象实例

* 程序计数器
	 较小的内存空间，线程私有，可以看作为当前线程执行的字节码的行号指示器,字节码解释器工作时就是通过程序计数器来选取下一个
　 要执行的字节码指令


### 对象的内存布局

对象由`对象头` `实例数据` `对其填充`组成


在编译阶段常量池的数据已经确定了
